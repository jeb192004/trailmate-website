<!DOCTYPE html>
<html>
  <head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"> 
	<meta name="viewport" content="width=device-width, initial-scale=1.0"> 
	<link href='css/togeojson.css' type='text/css' rel='stylesheet' />
	
	<title>toGeoJSON</title>
  </head>
  <body>
	
	<div class="topnav" id="myTopnav">
	  <a onclick="homeFunction()">Home</a>
	  <a onclick="miFunction()">MI Map</a>
	  <a onclick="wiFunction()">WI Map</a>
	  <a onclick="geoFunction()">GeoJson Maker</a>
	  <a onclick="fbFunction()">Facebook</a>
	  <a id='#about' onclick="aboutFunction()">About</a>
	  <a href="javascript:void(0);" class="icon1" onclick="myFunction()">&#9776;</a>
	</div>
	<div class='col8 margin2 pad2'>
	  <h1 class='center'>
		<a>Convert KML &amp; GPX</a> into <a target='_blank'>GeoJSON</a>
		<input id="upload" type=file   accept="text/html" name="files[]" size=30>
	  </h1>
	  <div class='clearfix col12'>
		<div class='col6'>
		  <select id='format'>
			<option>Select File Type to be Converted</option>
			<option value='kml'>KML</option>
			<option value='gpx'>GPX</option>
		  </select>
		  <textarea id='in'>
			
		  </textarea>
		</div>
		<div class='col6'>
		  <strong class='h30'>GeoJSON</strong>
		  <textarea id='output'></textarea></div>
	  </div>
	  
	  <div class='clearfix col12'>
		<div class='col6 pad2'>
		  <a>Keep file name from uploaded file</a><br>
		  <a>-or-</a><br>
		  <input type="text" id="new_name" placeholder="New File Name -optional-">
		  <a class='button' onclick="downloadFile()">â¬‡ Download new file</a>
		</div>
		<div class='col6 pad2'>
		  <h3>KML</h3>
		  <p>
			<ul class='features'>
			  <li>LineString, Polygon, MultiPolygon, MultiLineString, Point, MultiGeometry</li>
			  <li>ExtendedData, SimpleData, name, description</li>
			</ul>
		  </p>
		  <h3>GPX</h3>
		  <p>
			<ul class='features'>
			  <li>Tracks, Routes, and Waypoints</li>
			  <li>Standard metadata</li>
			</ul>
		  </p>
		</div>
	  </div>
	</div>
	<div id='output'></div>
	<script src='js/togeojson.js'></script>
<script>
var input = document.getElementById('in');
var out = document.getElementById('output');
var format = document.getElementById('format');
input.onchange = input.onkeyup = format.onchange = update = function() {
    out.value = JSON.stringify(toGeoJSON[format.value]((new DOMParser()).parseFromString(input.value, 'text/xml')), null, 4);
};
update();
</script>
<script type="text/javascript">
  var _gauges = _gauges || [];
  (function() {
    var t   = document.createElement('script');
    t.type  = 'text/javascript';
    t.async = true;
    t.id    = 'gauges-tracker';
    t.setAttribute('data-site-id', '4e36eb1ef5a1f53d6f000001');
    t.src = '//secure.gaug.es/track.js';
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(t, s);
  })();
</script>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
  </body>
</html>

