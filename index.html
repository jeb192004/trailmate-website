<!DOCTYPE html>
<html>
  <head>
	<meta charset=utf-8 />
	<title>Loading markers from CSV</title>
	<meta name='viewport' content='initial-scale=1,maximum-scale=1,user-scalable=no' />
	<script src='https://api.mapbox.com/mapbox.js/v3.1.1/mapbox.js'></script>
	<link href='https://api.mapbox.com/mapbox.js/v3.1.1/mapbox.css' rel='stylesheet' />
	<script src='https://api.mapbox.com/mapbox.js/plugins/leaflet-omnivore/v0.2.0/leaflet-omnivore.min.js'></script>
	<script src='https://api.mapbox.com/mapbox.js/plugins/leaflet-locatecontrol/v0.43.0/L.Control.Locate.min.js'></script>
	<link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">
	<link rel="stylesheet" href="https://domoritz.github.io/leaflet-locatecontrol/dist/L.Control.Locate.min.css" />
	<script src='https://api.mapbox.com/mapbox.js/plugins/leaflet-fullscreen/v1.0.1/Leaflet.fullscreen.min.js'></script> <link href='https://api.mapbox.com/mapbox.js/plugins/leaflet-fullscreen/v1.0.1/leaflet.fullscreen.css' rel='stylesheet' />
<style>
  body { margin:0; padding:0; }
  #map { position:absolute; top:0; bottom:0; width:100%; }
</style>
  </head>
  <body>
	
	
	<div id='map'></div>

<script>
L.mapbox.accessToken = 'pk.eyJ1IjoiamViMTkyMDA0IiwiYSI6ImNpbWNyODZyaDAwMmZ1MWx2dHdzcHQ5M2EifQ.IZsMnB3wOYFIaX1A5sy7Mw';
var map = L.mapbox.map('map', 'mapbox.satellite')
    .setView([38, -95], 4);

// Omnivore will AJAX-request this file behind the scenes and parse it:
// note that there are considerations:
// - The CSV file must contain latitude and longitude values, in column
//   named roughly latitude and longitude
// - The file must either be on the same domain as the page that requests it,
//   or both the server it is requested from and the user's browser must
//   support CORS.

map.addControl(L.control.locate({
position: 'topright',
       locateOptions: {
               enableHighAccuracy: true
}
}));
L.control.fullscreen().addTo(map);

function style(feature) {
return {
    weight: 2,
    opacity: 1,
    color: 'red',
    //dashArray: '3',
    fillOpacity: 0.7
};
}
var customLayer = L.geoJson(null, {style: style});

omnivore.kml('kml/bike/20_rd_to_grand_traverse_county_mccct.kml', null, customLayer).addTo(map);
omnivore.kml('kml/bike/atlanta_to_hunt_creek_mccct.kml', null, customLayer).addTo(map);
omnivore.kml('kml/bike/bass_lake_motorcycle_trail.kml', null, customLayer).addTo(map);
omnivore.kml('kml/bike/beaver_creek_trail_mccct.kml', null, customLayer).addTo(map);
omnivore.kml('kml/bike/big_o_motorcycle_trail.kml', null, customLayer).addTo(map);
omnivore.kml('kml/bike/birch_hill_motorcycle_trail.kml', null, customLayer).addTo(map);
omnivore.kml('kml/bike/brevort_trout_lake_motorcycle_trail.kml', null, customLayer).addTo(map);
omnivore.kml('kml/bike/evart_motorcycle_trail.kml', null, customLayer).addTo(map);
omnivore.kml('kml/bike/foreman_lake_motorcycle_trail.kml', null, customLayer).addTo(map);
omnivore.kml('kml/bike/grand_traverse_county_to_supply_rd_mccct.kml', null, customLayer).addTo(map);
omnivore.kml('kml/bike/grand_traverse_motorcycle_trail.kml', null, customLayer).addTo(map);
omnivore.kml('kml/bike/grand_traverse_to_leetsville_mccct.kml', null, customLayer).addTo(map);
omnivore.kml('kml/bike/holton_loop_motorcycle_trail.kml', null, customLayer).addTo(map);
omnivore.kml('kml/bike/horseshoe_lake_motorcycle_trail.kml', null, customLayer).addTo(map);
omnivore.kml('kml/bike/hunt_creek_motorcycle_trail.kml', null, customLayer).addTo(map);
omnivore.kml('kml/bike/kinross_motorcycle_trail.kml', null, customLayer).addTo(map);
omnivore.kml('kml/bike/leetsville_to_kalkaska_mccct.kml', null, customLayer).addTo(map);
omnivore.kml('kml/bike/lincoln_hills_motorcycle_trail.kml', null, customLayer).addTo(map);
omnivore.kml('kml/bike/little_manistee_motorcycle_trail.kml', null, customLayer).addTo(map);
omnivore.kml('kml/bike/long_lake_motorcycle_trail.kml', null, customLayer).addTo(map);
omnivore.kml('kml/bike/m_20_to_big_o__mccct_trail.kml', null, customLayer).addTo(map);
omnivore.kml('kml/bike/m_20_to_big_o_motorcycle__mccct.kml', null, customLayer).addTo(map);
omnivore.kml('kml/bike/m_30_north_gladwin_mccct.kml', null, customLayer).addTo(map);
omnivore.kml('kml/bike/m_30_to_st_helen_3_mccct.kml', null, customLayer).addTo(map);
omnivore.kml('kml/bike/m_55_to_20_rd_mccct.kml', null, customLayer).addTo(map);
omnivore.kml('kml/bike/m_55_to_state_rd_mccct.kml', null, customLayer).addTo(map);
omnivore.kml('kml/bike/mccct_cross_state_connector.kml', null, customLayer).addTo(map);
omnivore.kml('kml/bike/mio_to_meadows_mccct.kml', null, customLayer).addTo(map);
omnivore.kml('kml/bike/moss_lake_motorcycle_trail.kml', null, customLayer).addTo(map);
omnivore.kml('kml/bike/newberry_rexton_motorcycle_trail.kml', null, customLayer).addTo(map);
omnivore.kml('kml/bike/north_missaukee_motorcycle_trail.kml', null, customLayer).addTo(map);
omnivore.kml('kml/bike/north_missaukee_motorcycle_trail__mccct.kml', null, customLayer).addTo(map);
omnivore.kml('kml/bike/porterfield_lake_motorcycle_trail.kml', null, customLayer).addTo(map);
omnivore.kml('kml/bike/red_bridge_to_atlanta_mccct.kml', null, customLayer).addTo(map);
omnivore.kml('kml/bike/sandtown_motorcycle_trail.kml', null, customLayer).addTo(map);
omnivore.kml('kml/bike/st_helen_to_geels_trail__mccct.kml', null, customLayer).addTo(map);
omnivore.kml('kml/bike/the_meadows_motorcycle_trail.kml', null, customLayer).addTo(map);
omnivore.kml('kml/bike/tin_cup_spring_motorcycle_trail.kml', null, customLayer).addTo(map);
omnivore.kml('kml/bike/tomahawk_motorcycle_trail_b_loop.kml', null, customLayer).addTo(map);
omnivore.kml('kml/bike/tomahawk_motorcycle_trail_c_loop.kml', null, customLayer).addTo(map);
omnivore.kml('kml/bike/tomahawk_to_kalkaska_mccct.kml', null, customLayer).addTo(map);
omnivore.kml('kml/bike/tomahawk_to_red_bridge_mccct.kml', null, customLayer).addTo(map);

</script>
  </body>
</html>
